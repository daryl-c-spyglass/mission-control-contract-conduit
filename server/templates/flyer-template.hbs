<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{address}} - Property Flyer</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Montserrat', 'Arial', sans-serif;
            background: white;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }
        
        .page {
            width: 2550px;
            height: 3300px;
            margin: 0 auto;
            position: relative;
            background: white;
        }
        
        /* Top Bar */
        .top-bar {
            background: white;
            padding: 60px 120px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 3px solid #ddd;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            gap: 0;
            height: 250px;
            position: relative;
        }
        
        .accent-bar {
            width: 18px;
            height: 260px;
            background-color: #8b7d6b;
            margin-right: 30px;
        }
        
        .logo-primary-section {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
        }
        
        .logo-divider {
            width: 3px;
            height: 160px;
            background-color: #9ca3af;
            margin: 0 24px;
        }
        
        .logo-secondary-section {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            height: 100%;
        }
        
        .logo-svg,
        .logo-image {
            max-height: 172px;
            object-fit: contain;
        }
        
        .secondary-logo-image {
            max-height: 156px;
            object-fit: contain;
        }
        
        .price-tag {
            background: #8B7355;
            color: white;
            padding: 45px 90px;
            clip-path: polygon(10% 0%, 100% 0%, 100% 100%, 0% 100%);
            text-align: right;
        }
        
        .price-tag-label {
            font-size: 30px;
            letter-spacing: 6px;
            text-transform: uppercase;
        }
        
        .price-tag-amount {
            font-size: 60px;
            font-weight: 700;
        }
        
        /* Address Bar */
        .address-bar {
            padding: 45px 120px;
            font-size: 54px;
            font-weight: 600;
            letter-spacing: 9px;
            color: #2c2c2c;
            text-transform: uppercase;
            border-bottom: 3px solid #ddd;
        }
        
        /* Main Image */
        .main-image-container {
            width: calc(100% - 240px);
            margin: 45px 120px;
            height: 1050px;
            border-radius: 9px;
            overflow: hidden;
        }
        
        .main-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* Bottom Images */
        .bottom-images {
            display: flex;
            gap: 45px;
            padding: 0 120px 45px;
        }
        
        .secondary-image-container {
            flex: 1;
            height: 720px;
            border-radius: 9px;
            overflow: hidden;
        }
        
        .secondary-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .photo-placeholder {
            width: 100%;
            height: 100%;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 32px;
        }
        
        /* Footer Section */
        .footer-section {
            display: flex;
            padding: 30px 120px 60px;
            gap: 60px;
            align-items: flex-start;
            min-height: 500px;
        }
        
        /* Property Details */
        .property-details {
            flex: 0 0 480px;
        }
        
        .detail-item {
            display: flex;
            align-items: center;
            gap: 36px;
            margin-bottom: 48px;
        }
        
        .detail-item:last-child {
            margin-bottom: 0;
        }
        
        .icon {
            width: 90px;
            height: 90px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .icon svg {
            width: 100%;
            height: 100%;
        }

        .icon-img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        .detail-text {
            font-size: 48px;
            font-weight: 700;
            color: #2c2c2c;
        }
        
        /* Description Section */
        .description-section {
            flex: 1;
            padding-top: 30px;
        }
        
        .open-house-banner {
            background: #F97316;
            color: white;
            font-size: 36px;
            font-weight: 700;
            letter-spacing: 3px;
            text-transform: uppercase;
            padding: 18px 36px;
            margin-bottom: 24px;
            border-radius: 9px;
            display: inline-block;
        }
        
        .open-house-details {
            font-size: 36px;
            font-weight: 600;
            margin-bottom: 36px;
            color: #2c2c2c;
            letter-spacing: 2px;
        }

        .listing-headline {
            font-size: 36px;
            font-weight: 700;
            letter-spacing: 3px;
            text-transform: uppercase;
            margin-bottom: 24px;
            color: #2c2c2c;
        }
        
        .description-text {
            font-size: 36px;
            line-height: 1.6;
            color: #444;
        }
        
        /* Agent Section */
        .agent-section {
            flex: 0 0 420px;
            text-align: center;
        }
        
        .agent-photo {
            width: 240px;
            height: 240px;
            border-radius: 50%;
            margin: 0 auto 24px;
            border: 9px solid white;
            box-shadow: 0 6px 24px rgba(0,0,0,0.1);
            overflow: hidden;
            background: #ddd;
        }
        
        .agent-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .agent-photo-placeholder {
            width: 240px;
            height: 240px;
            border-radius: 50%;
            margin: 0 auto 24px;
            background: #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 9px solid white;
            box-shadow: 0 6px 24px rgba(0,0,0,0.1);
        }

        .agent-photo-placeholder svg {
            width: 90px;
            height: 90px;
            fill: #999;
        }
        
        .qr-code {
            width: 180px;
            height: 180px;
            margin: 0 auto 24px;
            border: 4px solid #2c2c2c;
            background: white;
        }
        
        .qr-code img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        .agent-name {
            font-size: 48px;
            font-weight: 700;
            color: #2c2c2c;
            margin-bottom: 9px;
        }
        
        .agent-title {
            font-size: 30px;
            font-weight: 600;
            color: #666;
            letter-spacing: 3px;
            margin-bottom: 6px;
        }
        
        .agent-phone {
            font-size: 36px;
            color: #2c2c2c;
            font-weight: 600;
        }
        
        .agent-email {
            font-size: 30px;
            color: #666;
            margin-top: 6px;
        }

        /* Status Badge - Hidden by default (redundant with price tag) */
        .status-badge {
            display: none;
        }
        
        @media print {
            .page {
                page-break-after: always;
            }
        }
    </style>
</head>
<body>
    <div class="page">
        {{#if statusBadge}}
        <div class="status-badge {{statusColorClass}}">{{statusBadge}}</div>
        {{/if}}
        
        <!-- Top Bar -->
        <div class="top-bar">
            <div class="logo-container">
                <!-- Accent Bar -->
                <div class="accent-bar"></div>
                
                <!-- Primary Logo -->
                <div class="logo-primary-section" style="width: {{primaryLogoWidth}}px;">
                    {{#if logoUrl}}
                    <img src="{{logoUrl}}" alt="Company Logo" class="logo-image" style="transform: scale({{primaryLogoScale}});" />
                    {{else}}
                    <svg class="logo-svg" viewBox="0 0 180 180">
                        <circle cx="90" cy="90" r="84" fill="none" stroke="#2c2c2c" stroke-width="6"/>
                        <circle cx="90" cy="90" r="66" fill="none" stroke="#2c2c2c" stroke-width="6"/>
                        <path d="M 45 105 Q 90 75, 135 105" fill="none" stroke="#2c2c2c" stroke-width="6"/>
                        <path d="M 45 75 Q 90 105, 135 75" fill="none" stroke="#2c2c2c" stroke-width="6"/>
                    </svg>
                    {{/if}}
                </div>
                
                <!-- Vertical Divider -->
                <div class="logo-divider"></div>
                
                <!-- Secondary Logo -->
                {{#if secondaryLogoUrl}}
                <div class="logo-secondary-section">
                    <img src="{{secondaryLogoUrl}}" alt="Partner Logo" class="secondary-logo-image" style="transform: scale({{secondaryLogoScale}}) translateY({{secondaryLogoOffsetY}}px);" />
                </div>
                {{/if}}
            </div>
            <div class="price-tag">
                <div class="price-tag-label">{{priceLabel}}</div>
                <div class="price-tag-amount">{{price}}</div>
            </div>
        </div>
        
        <!-- Address Bar -->
        <div class="address-bar">{{fullAddress}}</div>
        
        <!-- Main Image -->
        <div class="main-image-container">
            {{#if mainImage}}
            <img src="{{mainImage}}" alt="Property Main View" class="main-image" />
            {{else}}
            <div class="photo-placeholder">Main Photo</div>
            {{/if}}
        </div>
        
        <!-- Bottom Images -->
        <div class="bottom-images">
            <div class="secondary-image-container">
                {{#if secondaryImage1}}
                <img src="{{secondaryImage1}}" alt="Property View 2" class="secondary-image" />
                {{else}}
                <div class="photo-placeholder">Photo 2</div>
                {{/if}}
            </div>
            <div class="secondary-image-container">
                {{#if secondaryImage2}}
                <img src="{{secondaryImage2}}" alt="Property View 3" class="secondary-image" />
                {{else}}
                <div class="photo-placeholder">Photo 3</div>
                {{/if}}
            </div>
        </div>
        
        <!-- Footer Section -->
        <div class="footer-section">
            <!-- Property Details -->
            <div class="property-details">
                <div class="detail-item">
                    <div class="icon">
                        {{#if bedroomIcon}}
                        <img src="{{bedroomIcon}}" class="icon-img" alt="Bedrooms">
                        {{else}}
                        <svg viewBox="0 0 120 120">
                            <rect x="15" y="45" width="90" height="54" fill="none" stroke="#2c2c2c" stroke-width="6" rx="6"/>
                            <rect x="30" y="30" width="18" height="24" fill="none" stroke="#2c2c2c" stroke-width="6"/>
                            <rect x="72" y="30" width="18" height="24" fill="none" stroke="#2c2c2c" stroke-width="6"/>
                        </svg>
                        {{/if}}
                    </div>
                    <div class="detail-text">{{bedrooms}} bedrooms</div>
                </div>
                <div class="detail-item">
                    <div class="icon">
                        {{#if bathroomIcon}}
                        <img src="{{bathroomIcon}}" class="icon-img" alt="Bathrooms">
                        {{else}}
                        <svg viewBox="0 0 120 120">
                            <path d="M 30 75 L 30 45 Q 30 30, 45 30 L 75 30 Q 90 30, 90 45 L 90 75" fill="none" stroke="#2c2c2c" stroke-width="6"/>
                            <circle cx="39" cy="51" r="6" fill="#2c2c2c"/>
                            <rect x="15" y="75" width="90" height="24" fill="none" stroke="#2c2c2c" stroke-width="6" rx="6"/>
                        </svg>
                        {{/if}}
                    </div>
                    <div class="detail-text">{{bathrooms}} bathrooms</div>
                </div>
                <div class="detail-item">
                    <div class="icon">
                        {{#if sqftIcon}}
                        <img src="{{sqftIcon}}" class="icon-img" alt="Square Feet">
                        {{else}}
                        <svg viewBox="0 0 120 120">
                            <rect x="24" y="24" width="72" height="72" fill="none" stroke="#2c2c2c" stroke-width="6"/>
                            <path d="M 24 24 L 96 96 M 96 24 L 24 96" stroke="#2c2c2c" stroke-width="3"/>
                        </svg>
                        {{/if}}
                    </div>
                    <div class="detail-text">{{sqft}} sq. ft</div>
                </div>
                {{#if lotSize}}
                <div class="detail-item">
                    <div class="icon">
                        <svg viewBox="0 0 120 120">
                            <path d="M 20 100 L 20 40 L 60 20 L 100 40 L 100 100 Z" fill="none" stroke="#2c2c2c" stroke-width="6"/>
                            <path d="M 40 100 L 40 60 L 60 50 L 80 60 L 80 100" fill="none" stroke="#2c2c2c" stroke-width="4"/>
                        </svg>
                    </div>
                    <div class="detail-text">{{lotSize}}</div>
                </div>
                {{/if}}
            </div>
            
            <!-- Description Section -->
            <div class="description-section">
                {{#if openHouseDate}}
                <div class="open-house-banner">Open House</div>
                <div class="open-house-details">{{openHouseDate}}{{#if openHouseTime}} | {{openHouseTime}}{{/if}}</div>
                {{/if}}
                {{#if headline}}
                <div class="listing-headline">{{headline}}</div>
                {{/if}}
                <div class="description-text">{{description}}</div>
            </div>
            
            <!-- Agent Section -->
            <div class="agent-section">
                {{#if agentPhoto}}
                <div class="agent-photo">
                    <img src="{{agentPhoto}}" alt="{{agentName}}" />
                </div>
                {{else}}
                <div class="agent-photo-placeholder">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="12" cy="8" r="4"/>
                        <path d="M4 20c0-4 4-6 8-6s8 2 8 6"/>
                    </svg>
                </div>
                {{/if}}
                {{#if qrCodeUrl}}
                <div class="qr-code">
                    <img src="{{qrCodeUrl}}" alt="Scan for more info" />
                </div>
                {{else if listingUrl}}
                <div class="qr-code">
                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=300x300&data={{listingUrl}}" alt="QR Code" />
                </div>
                {{/if}}
                <div class="agent-name">{{agentName}}</div>
                <div class="agent-title">{{agentTitle}}</div>
                {{#if agentPhone}}
                <div class="agent-phone">{{agentPhone}}</div>
                {{/if}}
                {{#if agentEmail}}
                <div class="agent-email">{{agentEmail}}</div>
                {{/if}}
            </div>
        </div>
    </div>
</body>
</html>
