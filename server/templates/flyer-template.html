<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* PIXEL-IDENTICAL TEMPLATE - Fixed zone heights with explicit math */
    @page { size: 8.5in 11in; margin: 0; }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    :root {
      /* 8.5x11 at 300 DPI = 2550x3300 */
      --W: 2550px;
      --H: 3300px;
      
      /* FIXED ZONE HEIGHTS (explicit math) */
      --headerH: 165px;
      --addressH: 99px;
      --photosH: 1855px;  /* increased by 220px more to reduce bottom whitespace */
      /* Bottom = H - headerH - addressH - photosH (future-proof calc) */
      --bottomH: calc(var(--H) - var(--headerH) - var(--addressH) - var(--photosH));
      
      --padX: 80px;
      --gap: 36px;
      --ink: #1f1f1f;
      --muted: #6b6b6b;
      --rule: #e6e6e6;
      
      /* Header divider (Rechat warm gray) */
      --headerDivider: #9E9A92;
      --headerDividerW: 12px;
      --headerDividerH: calc(var(--headerH) + var(--addressH));
      
      /* Badge matches header divider */
      --badge: var(--headerDivider);
      
      /* Separator tokens (visible at 300 DPI) */
      --sepColor: rgba(0,0,0,0.16);
      --sepW: 2px;
      
      /* Thick dividers (PSD-matching) */
      --dividerW: 18px;
      --dividerColor: rgba(0,0,0,0.32);
      
      /* Divider tip alignment offsets */
      --leftTipOffset: 90px;   /* Aligns left divider tip with sqft row baseline */
      --rightTipOffset: 110px; /* Aligns right divider tip with description last line */
    }
    
    html, body {
      margin: 0;
      padding: 0;
      width: var(--W);
      height: var(--H);
      overflow: hidden;
      background: #fff;
    }
    
    body {
      font-family: 'Montserrat', sans-serif;
      color: var(--ink);
      -webkit-font-smoothing: antialiased;
    }
    
    .flyer {
      width: var(--W);
      height: var(--H);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      background: #fff;
      position: relative;
    }
    
    /* Remove extra top-left line - no brand bar */
    .flyer::before {
      content: none !important;
    }
    
    /* Header wrap spans logo + address for full divider height */
    .header-wrap {
      position: relative;
    }
    
    .header-wrap .header-divider {
      position: absolute;
      left: calc(var(--padX) - var(--headerDividerW));  /* Right edge flush with logo */
      top: 40px;  /* Aligned with header padding-top */
      width: var(--headerDividerW);
      height: var(--headerDividerH);
      background: var(--headerDivider);
      z-index: 10;
    }
    
    /* HEADER - FIXED 165px */
    .header {
      height: var(--headerH);
      padding: 40px var(--padX) 0;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
    }
    
    .header-left {
      display: flex;
      align-items: flex-start;
    }
    
    .header-logo {
      height: 100px;
      width: auto;
    }
    
    .price-badge {
      background: var(--badge);
      color: #fff;
      padding: 22px 34px 22px 44px;
      border-radius: 0;
      text-align: right;
      min-width: 360px;
      position: relative;
      /* tag shape with angled left notch */
      clip-path: polygon(
        14% 0%,
        100% 0%,
        100% 100%,
        14% 100%,
        0% 50%
      );
      box-shadow: 0 4px 0 rgba(0,0,0,0.06);
    }
    
    .price-label {
      font-size: 24px;
      letter-spacing: 4px;
      font-weight: 700;
      text-transform: uppercase;
      opacity: 0.95;
    }
    
    .price-value {
      font-size: 56px;
      font-weight: 900;
      letter-spacing: 1px;
      margin-top: 8px;
      line-height: 1;
    }
    
    /* ADDRESS - FIXED 99px */
    .address-bar {
      height: var(--addressH);
      padding: 0 var(--padX);
      display: flex;
      align-items: center;
      font-size: 32px;
      letter-spacing: 2px;
      font-weight: 400;
      text-transform: uppercase;
      border-bottom: var(--sepW) solid var(--sepColor);
    }
    
    /* PHOTOS - FIXED 1485px */
    .photos-section {
      height: var(--photosH);
      padding: 0 var(--padX);
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    
    .main-photo-container {
      flex: 1 1 auto;
      overflow: hidden;
      background: #f2f2f2;
    }
    
    .main-photo {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    
    .secondary-photos {
      height: 750px;  /* increased by 220px more to reduce bottom whitespace */
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      overflow: hidden;
    }
    
    .secondary-photo-container {
      overflow: hidden;
      background: #f2f2f2;
    }
    
    .secondary-photo {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    
    .photo-placeholder {
      width: 100%;
      height: 100%;
      background: #f0f0f0;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #999;
      font-size: 32px;
    }
    
    /* BOTTOM SECTION - FIXED (fills remainder) */
    .bottom-section {
      height: var(--bottomH);
      padding: 48px var(--padX) 70px;
      display: flex;
      align-items: flex-start;
    }
    
    /* Content band controls where content sits - dividers only span this height */
    .bottom-band {
      width: 100%;
      display: grid;
      /* structural dividers as columns (thick 18px bars) */
      grid-template-columns: 480px var(--dividerW) 1fr var(--dividerW) 520px;
      gap: 0;
      /* band height so dividers don't run through huge whitespace */
      height: 460px;
      max-height: 460px;
      align-items: stretch;
    }
    
    /* Structural vertical divider with bottom tip */
    .v-divider {
      position: relative;
      width: var(--dividerW);
    }
    
    .v-divider::before {
      content: "";
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      top: 0;
      width: 6px;
      height: calc(100% - 90px);  /* Leave room for tip alignment */
      background: #A6A6A6;
    }
    
    .v-divider::after {
      content: "";
      position: absolute;
      bottom: 90px;  /* Aligned with content baseline */
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 6px;
      background: #A6A6A6;
    }
    
    /* Left divider tip aligns with sqft row */
    .v-divider.divider-left::before {
      height: calc(100% - var(--leftTipOffset, 90px));
    }
    .v-divider.divider-left::after {
      bottom: var(--leftTipOffset, 90px);
    }
    
    /* Right divider tip aligns with description last line */
    .v-divider.divider-right::before {
      height: calc(100% - var(--rightTipOffset, 110px));
    }
    .v-divider.divider-right::after {
      bottom: var(--rightTipOffset, 110px);
    }
    
    /* LEFT COLUMN - Stats (anchor to top) */
    .stats-column {
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      gap: 50px;
      padding-right: 48px;
    }
    
    .stat-item {
      display: grid;
      grid-template-columns: 72px 1fr;
      align-items: center;
      column-gap: 22px;
    }
    
    .stat-icon {
      width: 72px;
      height: 72px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .stat-icon svg {
      width: 72px;
      height: 72px;
      fill: #111;
    }
    
    .stat-text {
      font-size: 76px;
      font-weight: 900;
      line-height: 1.05;
    }
    
    .stat-text small {
      font-size: 58px;
      font-weight: 800;
    }
    
    /* CENTER COLUMN - Description (anchor to top, left-aligned) */
    .description-column {
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: flex-start;
      padding: 0 48px;
    }
    
    .listing-headline {
      font-family: 'League Spartan', sans-serif;
      font-size: 76px;
      font-weight: 600;
      letter-spacing: 4px;
      text-transform: uppercase;
      text-align: center;
      line-height: 1.1;
      margin: 0 0 50px;
      white-space: pre-line;
    }
    
    .listing-description {
      font-size: 48px;
      line-height: 1.55;
      color: #3b3b3b;
      margin: 0;
      max-width: none;
      text-align: left;
      display: -webkit-box;
      -webkit-box-orient: vertical;
      -webkit-line-clamp: 6;
      overflow: hidden;
    }
    
    /* RIGHT COLUMN - Agent (aligned within band, not page bottom) */
    .agent-column {
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      gap: 20px;
      text-align: center;
      padding-left: 48px;
      padding-top: 80px;
    }
    
    /* Agent photo + logo row side by side */
    .agent-top-row {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 22px;
    }
    
    .agent-team-logo {
      width: 200px;
      height: 200px;
      object-fit: contain;
      border: 10px solid rgba(0,0,0,0.25);
      background: #fff;
    }
    
    .agent-photo {
      width: 240px;
      height: 240px;
      border-radius: 50%;
      object-fit: cover;
      border: 7px solid #c7b28a;
      background: #f2f2f2;
    }
    
    .agent-photo-placeholder {
      width: 240px;
      height: 240px;
      border-radius: 50%;
      background: #e0e0e0;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 7px solid #c7b28a;
    }
    
    .agent-photo-placeholder svg {
      width: 120px;
      height: 120px;
      fill: #999;
    }
    
    .agent-name {
      font-size: 64px;
      font-weight: 700;
      line-height: 1.1;
      margin-top: 10px;
      white-space: nowrap;
      overflow: visible;
      text-overflow: clip;
      max-width: none;
      width: 100%;
    }
    
    .agent-title {
      font-size: 30px;
      letter-spacing: 5px;
      color: var(--muted);
      margin-top: 8px;
      text-transform: uppercase;
    }
    
    .agent-phone {
      font-size: 48px;
      font-weight: 600;
      letter-spacing: 1px;
      margin-top: 14px;
    }
    
    .agent-logo {
      width: 260px;
      height: auto;
      margin-top: 24px;
      opacity: 0.95;
    }
  </style>
</head>
<body>
  <div class="flyer">
  <!-- Header wrap spans logo + address for full divider height -->
  <div class="header-wrap">
    <div class="header-divider"></div>
    
    <!-- HEADER - Logo left, Price right -->
    <div class="header">
      <div class="header-left">
        <img src="{{spyglassLogoUrl}}" class="header-logo" alt="Spyglass Realty">
      </div>
      
      <div class="price-badge">
        <div class="price-label">{{statusLabel}}</div>
        <div class="price-value">{{price}}</div>
      </div>
    </div>
    
    <!-- ADDRESS BAR -->
    <div class="address-bar">{{address}}</div>
  </div>
  
  <!-- PHOTOS -->
  <div class="photos-section">
    <div class="main-photo-container">
      {{#if mainPhoto}}
      <img src="{{mainPhoto}}" class="main-photo" alt="Property">
      {{else}}
      <div class="photo-placeholder">Main Photo</div>
      {{/if}}
    </div>
    
    <div class="secondary-photos">
      <div class="secondary-photo-container">
        {{#if photo2}}
        <img src="{{photo2}}" class="secondary-photo" alt="Property">
        {{else}}
        <div class="photo-placeholder">Photo 2</div>
        {{/if}}
      </div>
      <div class="secondary-photo-container">
        {{#if photo3}}
        <img src="{{photo3}}" class="secondary-photo" alt="Property">
        {{else}}
        <div class="photo-placeholder">Photo 3</div>
        {{/if}}
      </div>
    </div>
  </div>
  
  <!-- BOTTOM SECTION -->
  <div class="bottom-section">
    <div class="bottom-band">
      <!-- Stats Column -->
      <div class="stats-column">
        <div class="stat-item">
          <span class="stat-icon">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <rect x="2" y="12" width="20" height="4" rx="1" fill="#111"/>
              <path d="M4 12V7C4 6.45 4.45 6 5 6H10C10.55 6 11 6.45 11 7V12" stroke="#111" stroke-width="1.5" fill="none"/>
              <path d="M13 12V7C13 6.45 13.45 6 14 6H19C19.55 6 20 6.45 20 7V12" stroke="#111" stroke-width="1.5" fill="none"/>
              <path d="M3 16V20M21 16V20" stroke="#111" stroke-width="2"/>
              <path d="M2 16H22" stroke="#111" stroke-width="1.5"/>
            </svg>
          </span>
          <div class="stat-text">{{beds}} <small>bedrooms</small></div>
        </div>
        <div class="stat-item">
          <span class="stat-icon">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M4 12H20V16C20 18.2091 18.2091 20 16 20H8C5.79086 20 4 18.2091 4 16V12Z" fill="#111"/>
              <path d="M6 12V8C6 5.79086 7.79086 4 10 4H10.5C11.8807 4 13 5.11929 13 6.5V12" stroke="#111" stroke-width="2" fill="none"/>
              <circle cx="7" cy="7" r="1.5" fill="#111"/>
            </svg>
          </span>
          <div class="stat-text">{{baths}} <small>bathrooms</small></div>
        </div>
        <div class="stat-item stat-sqft">
          <span class="stat-icon">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M3 21L21 3" stroke="#111" stroke-width="2"/>
              <path d="M3 21H9M3 21V15" stroke="#111" stroke-width="2"/>
              <path d="M21 3H15M21 3V9" stroke="#111" stroke-width="2"/>
              <path d="M9 3H3V9" stroke="#111" stroke-width="2" fill="none"/>
              <path d="M15 21H21V15" stroke="#111" stroke-width="2" fill="none"/>
            </svg>
          </span>
          <div class="stat-text">{{sqft}} <small>sq. ft</small></div>
        </div>
      </div>
      
      <!-- Divider (left - aligns with sqft) -->
      <div class="v-divider divider-left"></div>
      
      <!-- Description Column -->
      <div class="description-column">
        {{#if headline}}
        <div class="listing-headline">{{headline}}</div>
        {{/if}}
        <div class="listing-description">{{description}}</div>
      </div>
      
      <!-- Divider (right - aligns with description) -->
      <div class="v-divider divider-right"></div>
      
      <!-- Agent Column -->
      <div class="agent-column">
        <div class="agent-top-row">
          {{#if agentPhoto}}
          <img src="{{agentPhoto}}" class="agent-photo" alt="{{agentName}}">
          {{else}}
          <div class="agent-photo-placeholder">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <circle cx="12" cy="8" r="4"/>
              <path d="M4 20c0-4 4-6 8-6s8 2 8 6"/>
            </svg>
          </div>
          {{/if}}
          <img src="{{spyglassLogoUrl}}" class="agent-team-logo" alt="Spyglass Realty">
        </div>
        
        <div class="agent-name">{{agentName}}</div>
        <div class="agent-title">{{agentTitle}}</div>
        <div class="agent-phone">{{agentPhone}}</div>
      </div>
    </div>
  </div>
  </div>
</body>
</html>
