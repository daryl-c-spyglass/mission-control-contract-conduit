<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* PIXEL-IDENTICAL TEMPLATE v2.0 - Y-axis dividers only, content-height matching */
    @page { size: 8.5in 11in; margin: 0; }
    @media print { body { -webkit-print-color-adjust: exact; print-color-adjust: exact; } }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    :root {
      /* 8.5x11 at 300 DPI = 2550x3300 */
      --W: 2550px;
      --H: 3300px;
      
      /* FIXED ZONE HEIGHTS */
      --headerH: 165px;
      --addressH: 99px;
      --photosH: 1920px;  /* Increased to reduce bottom whitespace */
      --bottomH: calc(var(--H) - var(--headerH) - var(--addressH) - var(--photosH));
      
      --padX: 80px;
      --ink: #1f1f1f;
      --muted: #6b6b6b;
      
      /* Header divider - warm gray, positioned left */
      --headerDivider: #9E9A92;
      --headerDividerW: 12px;
      
      /* Badge color */
      --badge: #9E9A92;
      
      /* Separator (under address) */
      --sepColor: rgba(0,0,0,0.12);
      --sepW: 2px;
      
      /* Y-axis divider styling - thicker for visibility */
      --dividerColor: #b0b0b0;
      --dividerW: 8px;
    }
    
    html, body {
      margin: 0;
      padding: 0;
      width: var(--W);
      height: var(--H);
      overflow: hidden;
      background: #fff;
    }
    
    body {
      font-family: 'Montserrat', sans-serif;
      color: var(--ink);
      -webkit-font-smoothing: antialiased;
    }
    
    .flyer {
      width: var(--W);
      height: var(--H);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      background: #fff;
      position: relative;
    }
    
    /* ===== HEADER SECTION ===== */
    .header-wrap {
      position: relative;
      height: calc(var(--headerH) + var(--addressH));
      overflow: hidden;
    }
    
    /* Left vertical divider - positioned beside logo/address, never overlaps */
    .header-wrap::before {
      content: '';
      position: absolute;
      left: 40px;  /* Safe distance from edge */
      top: 28px;   /* Breathing room from top */
      width: var(--headerDividerW);
      height: calc(100% - 56px);  /* Stay within wrapper bounds */
      background: var(--headerDivider);
      z-index: 0;
    }
    
    .header {
      position: relative;
      z-index: 1;
      height: var(--headerH);
      padding: 40px var(--padX) 0 100px;  /* Left padding clears the divider */
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
    }
    
    .header-left {
      display: flex;
      align-items: flex-start;
      position: relative;
      z-index: 2;
    }
    
    .header-logo {
      height: 100px;
      width: auto;
    }
    
    /* Price badge - angled tag shape, black text, NOT bold */
    .price-badge {
      background: var(--badge);
      color: #000 !important;
      padding: 22px 34px 22px 44px;
      text-align: right;
      min-width: 360px;
      position: absolute;
      top: 18px;
      right: 80px;
      z-index: 2;
      clip-path: polygon(14% 0%, 100% 0%, 100% 100%, 14% 100%, 0% 50%);
      box-shadow: 0 4px 0 rgba(0,0,0,0.06);
    }
    
    .price-badge * {
      color: #000 !important;
      font-weight: 500 !important;  /* NOT bold */
    }
    
    .price-label {
      font-size: 24px;
      letter-spacing: 4px;
      text-transform: uppercase;
      opacity: 0.9;
    }
    
    .price-value {
      font-size: 56px;
      letter-spacing: 1px;
      margin-top: 8px;
      line-height: 1;
    }
    
    /* ADDRESS BAR - NOT bold, NO horizontal border */
    .address-bar {
      position: relative;
      z-index: 1;
      height: var(--addressH);
      padding: 0 var(--padX) 0 100px;  /* Left padding clears the divider */
      display: flex;
      align-items: center;
      font-size: 34px;
      letter-spacing: 2px;
      font-weight: 400;  /* NOT bold */
      text-transform: uppercase;
      /* NO border - Y-axis dividers only */
    }
    
    /* ===== PHOTOS SECTION ===== */
    .photos-section {
      height: var(--photosH);
      padding: 0 var(--padX);
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    
    .main-photo-container {
      flex: 1 1 auto;
      overflow: hidden;
      background: #f2f2f2;
    }
    
    .main-photo {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    
    .secondary-photos {
      height: 800px;  /* Increased for less whitespace */
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      overflow: hidden;
    }
    
    .secondary-photo-container {
      overflow: hidden;
      background: #f2f2f2;
    }
    
    .secondary-photo {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    
    .photo-placeholder {
      width: 100%;
      height: 100%;
      background: #f0f0f0;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #999;
      font-size: 32px;
    }
    
    /* ===== BOTTOM SECTION - Y-AXIS DIVIDERS ONLY ===== */
    .bottom-section {
      height: var(--bottomH);
      padding: 56px var(--padX) 60px;
      display: flex;
      align-items: flex-start;  /* Top align everything */
    }
    
    /* Inner wrapper - shrink-wrapped to content height for divider sizing */
    .bottom-inner {
      display: grid;
      grid-template-columns: 520px 1fr 480px;
      column-gap: 50px;
      width: 100%;
      position: relative;
      align-items: stretch;  /* All columns stretch to content height */
      /* Height determined by tallest column - dividers match this */
    }
    
    /* Y-axis dividers as pseudo-elements - height matches content block */
    .bottom-inner::before,
    .bottom-inner::after {
      content: '';
      position: absolute;
      top: 0;
      bottom: 0;  /* Stretch to content height only */
      width: var(--dividerW);
      background: var(--dividerColor);
    }
    
    /* First divider - between stats and copy columns */
    .bottom-inner::before {
      left: calc(520px + 21px);  /* After stats column + half gap */
    }
    
    /* Second divider - between copy and agent columns */
    .bottom-inner::after {
      right: calc(480px + 21px);  /* Before agent column + half gap */
    }
    
    /* LEFT COLUMN - Stats (icons + one-line text) */
    .stats-column {
      display: flex;
      flex-direction: column;
      justify-content: flex-end;  /* Push stats to bottom - sqft aligns with description baseline */
      align-items: flex-start;
      gap: 48px;
    }
    
    /* Stats sub-groups - no extra offset needed, flex-end handles alignment */
    .stats-top {
      display: flex;
      flex-direction: column;
      gap: 48px;
    }
    
    .stats-bottom {
      /* sqft row at bottom - aligns with description last line */
    }
    
    /* Stats items - ONE LINE each */
    .stat-item {
      display: flex;
      align-items: center;
      gap: 24px;
      white-space: nowrap;
    }
    
    /* PNG stat icons - sized for one-line text alignment */
    .stat-icon-img {
      width: 48px;
      height: 48px;
      flex: 0 0 auto;
      object-fit: contain;
    }
    
    .stat-text {
      font-size: 54px;
      font-weight: 700;
      line-height: 1.1;
      white-space: nowrap;
    }
    
    /* CENTER COLUMN - Copy (headline + description) */
    .copy-column {
      display: flex;
      flex-direction: column;
      justify-content: flex-end;  /* Push content to bottom - description aligns with sqft */
      align-items: stretch;
      gap: 28px;
      padding: 0 10px;
    }
    
    /* Headline - centered, NOT bold (font-weight: 500) */
    .listing-headline {
      font-family: 'League Spartan', sans-serif;
      font-size: 64px;
      font-weight: 500 !important;  /* NOT bold */
      letter-spacing: 4px;
      text-transform: uppercase;
      text-align: center;
      line-height: 1.15;
      margin: 0;
      /* NO border/rule below */
    }
    
    /* Description - LEFT aligned, regular weight */
    .listing-description {
      font-size: 42px;
      line-height: 1.5;
      color: #3b3b3b;
      font-weight: 400;
      margin: 0;
      text-align: left !important;  /* LEFT aligned */
      display: -webkit-box;
      -webkit-box-orient: vertical;
      -webkit-line-clamp: 5;
      overflow: hidden;
      /* NO border/rule below */
    }
    
    /* RIGHT COLUMN - Agent */
    .agent-column {
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: flex-start;
      gap: 12px;
      padding-left: 10px;
    }
    
    /* Agent photo + team logo row - logo to RIGHT of photo */
    .agent-top-row {
      display: flex;
      align-items: center;
      gap: 16px;
    }
    
    /* Agent photo - ~90px diameter to match sample */
    .agent-photo {
      width: 180px;
      height: 180px;
      border-radius: 50%;
      object-fit: cover;
      border: 4px solid #d4c5a9;  /* Light warm gray stroke ring */
      background: #f2f2f2;
    }
    
    .agent-photo-placeholder {
      width: 180px;
      height: 180px;
      border-radius: 50%;
      background: #e0e0e0;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 4px solid #d4c5a9;
    }
    
    .agent-photo-placeholder svg {
      width: 72px;
      height: 72px;
      fill: #999;
    }
    
    /* Logo tile to RIGHT of photo - smaller square */
    .agent-team-logo {
      width: 100px;
      height: 100px;
      object-fit: contain;
      background: #fff;
      padding: 4px;
    }
    
    /* Agent name - ONE LINE, never truncated */
    .agent-name {
      font-size: 52px;
      font-weight: 700;
      line-height: 1.1;
      margin-top: 8px;
      white-space: nowrap;
      overflow: visible;
      text-overflow: clip;
    }
    
    .agent-title {
      font-size: 26px;
      letter-spacing: 4px;
      color: var(--muted);
      text-transform: uppercase;
      font-weight: 400;
    }
    
    /* Phone - NOT bold */
    .agent-phone {
      font-size: 36px;
      font-weight: 400 !important;  /* NOT bold */
      letter-spacing: 1px;
    }
  </style>
</head>
<body>
  <div class="flyer">
    <!-- HEADER - Logo left with vertical bar, Price badge right -->
    <div class="header-wrap">
      <div class="header">
        <div class="header-left">
          <img src="{{spyglassLogoUrl}}" class="header-logo" alt="Spyglass Realty">
        </div>
        
        <div class="price-badge">
          <div class="price-label">{{statusLabel}}</div>
          <div class="price-value">{{price}}</div>
        </div>
      </div>
      
      <div class="address-bar">{{address}}</div>
    </div>
    
    <!-- PHOTOS -->
    <div class="photos-section">
      <div class="main-photo-container">
        {{#if mainPhoto}}
        <img src="{{mainPhoto}}" class="main-photo" alt="Property">
        {{else}}
        <div class="photo-placeholder">Main Photo</div>
        {{/if}}
      </div>
      
      <div class="secondary-photos">
        <div class="secondary-photo-container">
          {{#if photo2}}
          <img src="{{photo2}}" class="secondary-photo" alt="Property">
          {{else}}
          <div class="photo-placeholder">Photo 2</div>
          {{/if}}
        </div>
        <div class="secondary-photo-container">
          {{#if photo3}}
          <img src="{{photo3}}" class="secondary-photo" alt="Property">
          {{else}}
          <div class="photo-placeholder">Photo 3</div>
          {{/if}}
        </div>
      </div>
    </div>
    
    <!-- BOTTOM SECTION - Y-axis dividers only -->
    <div class="bottom-section">
      <div class="bottom-inner">
        <!-- Stats Column -->
        <div class="stats-column">
          <!-- Top group: bedrooms + bathrooms (shifted down slightly) -->
          <div class="stats-top">
            <div class="stat-item">
              <img src="{{bedroomIcon}}" class="stat-icon-img" alt="Bedrooms">
              <div class="stat-text">{{beds}} bedrooms</div>
            </div>
            <div class="stat-item">
              <img src="{{bathroomIcon}}" class="stat-icon-img" alt="Bathrooms">
              <div class="stat-text">{{baths}} bathrooms</div>
            </div>
          </div>
          <!-- Bottom group: sqft (keeps baseline alignment with phone) -->
          <div class="stats-bottom">
            <div class="stat-item">
              <img src="{{sqftIcon}}" class="stat-icon-img" alt="Square Feet">
              <div class="stat-text">{{sqft}} sq. ft</div>
            </div>
          </div>
        </div>
        
        <!-- Copy Column -->
        <div class="copy-column">
          {{#if headline}}
          <div class="listing-headline">{{headline}}</div>
          {{/if}}
          <div class="listing-description">{{description}}</div>
        </div>
        
        <!-- Agent Column -->
        <div class="agent-column">
          <div class="agent-top-row">
            {{#if agentPhoto}}
            <img src="{{agentPhoto}}" class="agent-photo" alt="{{agentName}}">
            {{else}}
            <div class="agent-photo-placeholder">
              <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="8" r="4"/>
                <path d="M4 20c0-4 4-6 8-6s8 2 8 6"/>
              </svg>
            </div>
            {{/if}}
            <img src="{{spyglassLogoUrl}}" class="agent-team-logo" alt="Spyglass Realty">
          </div>
          
          <div class="agent-name">{{agentName}}</div>
          <div class="agent-title">{{agentTitle}}</div>
          <div class="agent-phone">{{agentPhone}}</div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
